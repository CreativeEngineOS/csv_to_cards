<div class="card-row" style="display: flex; flex-wrap: wrap; gap: 1rem;">
{% for item in items %}
  <div class="card" style="flex: 1 1 calc(100% / {{ per_row }} - 1rem); max-width: calc(100% / {{ per_row }} - 1rem); box-sizing: border-box;">
    <div class="thumb" style="width: 100%; aspect-ratio: 4/3; overflow: hidden;">
      <a href="{{ item['URL'] }}" target="_blank">
        <img src="{{ item['Image'] }}" alt="thumbnail" style="width: 100%; height: 100%; object-fit: cover;" />
      </a>
    </div>
    <div class="caption" style="margin-top: 0.5rem; font-size: 0.95rem;"><strong>{{ item['Short Caption'] }}</strong></div>
    {% if item['Remainder Caption'] %}
      <details style="margin-top: 0.25rem;"><summary>Read more</summary><p>{{ item['Remainder Caption'] }}</p></details>
    {% endif %}
    <div class="rating" style="font-size: 1rem; margin-top: 0.5rem;">{{ item['Rating'] }}</div>
    <div class="tags" style="text-align: right; font-size: 0.85rem; margin-top: 0.5rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
      {% for tag in item['Keywords'] %}
        <a href="/tag/{{ tag|lower|replace(' ', '-') }}" style="text-decoration: none;">{{ tag }}</a>{% if not loop.last %}, {% endif %}
      {% endfor %}
    </div>
  </div>
{% endfor %}
</div>
